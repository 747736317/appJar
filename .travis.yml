language: python
python:
    - "2.7"
    - "3.3"
    - "3.4"
    - "3.5"
env:
    - PYTHONPATH=.

before_install:
    - pip install pytest pytest-cov
    - pip install coveralls

before_script:
    - "export DISPLAY=:99.0"
    - "sh -e /etc/init.d/xvfb start"
    - sleep 3 # give xvfb some time to start
    - VERS=`python -c 'import sys; print(".".join(map(str, sys.version_info[:2])))'`

script:
    - coverage run --source=appJar python tests/widget_test.py
    - coverage run --source=appJar python tests/bar_test.py

after_success:
    - bash tests/run_coveralls.sh

addons:
    code_climate:
        repo_token: 3b1c31ab1ba5ee5eb7aaf75efd1245ee00e38a070f7a82fece4b5f7b9ca5f7f7
